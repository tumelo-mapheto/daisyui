import{K as g,J as n,w as y}from"./runtime.BUdK6G03.js";import{i as E}from"./i18n.DfsbkJEL.js";import{g as m,i as L}from"./this.Ckdc_brU.js";import{j as x}from"./disclose-version.CGgwR5Q_.js";function C(e,f,r,a=!0){a&&r();for(var o of f)e.addEventListener(o,r);g(()=>{for(var _ of f)e.removeEventListener(_,r)})}function d(e,f,r,a=r){e.addEventListener(f,r);const o=e.__on_r;o?e.__on_r=()=>{o(),a()}:e.__on_r=a,E()}function D(e,f,r){d(e,"input",()=>{r(h(e)?b(e.value):e.value)}),n(()=>{var a=f();if(x&&e.defaultValue!==e.value){r(e.value);return}h(e)&&a===b(e.value)||e.type==="date"&&!a&&!e.value||(e.value=a??"")})}function J(e,f,r,a,o){var _=r.getAttribute("type")==="checkbox",v=e;let i=!1;if(f!==null)for(var t of f){var u=v;v=u[t],v===void 0&&(v=u[t]=[])}v.push(r),d(r,"change",()=>{var c=r.__value;_&&(c=k(v,c,r.checked)),o(c)},()=>o(_?[]:null)),n(()=>{var c=a();if(x&&r.defaultChecked!==r.checked){i=!0;return}_?(c=c||[],r.checked=m(c).includes(m(r.__value))):r.checked=L(r.__value,c)}),g(()=>{var c=v.indexOf(r);c!==-1&&v.splice(c,1)}),y(()=>{if(v.sort((s,w)=>s.compareDocumentPosition(w)===4?-1:1),i){var c;if(_)c=k(v,c,r.checked);else{var l=v.find(s=>s.checked);c=l==null?void 0:l.__value}o(c)}})}function K(e,f,r){d(e,"change",()=>{var a=e.checked;r(a)}),f()==null&&r(!1),n(()=>{var a=f();e.checked=!!a})}function k(e,f,r){for(var a=new Set,o=0;o<e.length;o+=1)e[o].checked&&a.add(e[o].__value);return r||a.delete(f),Array.from(a)}function h(e){var f=e.type;return f==="number"||f==="range"}function b(e){return e===""?null:+e}export{J as a,K as b,D as c,C as l};
